# 管理后台快速开始指南

## 📋 目录

1. [系统概述](#系统概述)
2. [初始化管理员](#初始化管理员)
3. [登录后台](#登录后台)
4. [功能模块](#功能模块)
5. [文章管理](#文章管理)
6. [常见问题](#常见问题)

---

## 🎯 系统概述

LaserCalc Pro 管理后台是一个完整的内容管理系统（CMS），提供以下功能：

- ✅ **用户认证**：JWT令牌认证，安全可靠
- ✅ **数据仪表盘**：实时统计和数据分析
- ✅ **文章管理**：完整的CRUD操作，支持草稿/发布/归档
- ✅ **订阅用户管理**：邮箱订阅用户管理
- ✅ **计算历史**：查看用户计算记录
- ✅ **系统设置**：全局配置管理

---

## 🔧 初始化管理员

### 方法一：使用脚本创建（推荐）

```bash
# 创建默认管理员账号
npm run create-admin

# 或使用自定义信息
ADMIN_USERNAME=myadmin \
ADMIN_PASSWORD=mypassword123 \
ADMIN_EMAIL=admin@example.com \
ADMIN_DISPLAY_NAME="My Admin" \
npm run create-admin
```

### 方法二：手动执行SQL

连接到Turso数据库并执行：

```sql
-- 生成密码哈希（在Node.js中执行）
-- const bcrypt = require('bcryptjs');
-- const hash = bcrypt.hashSync('your_password', 10);

INSERT INTO admins (username, password, email, display_name, role, is_active) 
VALUES (
  'admin',
  '$2a$10$...',  -- 替换为你的密码哈希
  'admin@lasercalcpro.com',
  'System Administrator',
  'admin',
  TRUE
);
```

### 默认管理员账号

如果使用默认配置：

- **用户名**: `admin`
- **密码**: `admin123`
- **邮箱**: `admin@lasercalcpro.com`

⚠️ **重要提示**：首次登录后请立即修改默认密码！

---

## 🚪 登录后台

### 1. 访问登录页面

开发环境：
```
http://localhost:3000/admin/login
```

生产环境：
```
https://lasercalcpro.com/admin/login
```

### 2. 输入凭据

- 输入管理员用户名
- 输入密码
- 点击"登录"按钮

### 3. 登录成功

登录成功后会自动跳转到管理仪表盘 (`/admin`)

---

## 📊 功能模块

### 1. 数据仪表盘 (`/admin`)

实时展示关键指标：
- 总计算次数
- 订阅用户数
- 本周活跃度
- 系统运行状态
- 热门计算器排行
- 关键指标趋势

### 2. 计算历史 (`/admin/calculations`)

查看所有用户的计算记录：
- 计算类型
- 输入参数
- 计算结果
- 用户IP和地理位置
- 时间戳

### 3. 订阅用户 (`/admin/subscribers`)

管理邮箱订阅用户：
- 查看所有订阅用户
- 筛选已确认/未确认用户
- 导出用户列表
- 删除用户

### 4. 文章管理 (`/admin/articles`)

完整的博客内容管理：
- 创建、编辑、删除文章
- 草稿、发布、归档状态管理
- 分类和标签系统
- SEO元数据设置
- 浏览量统计

### 5. 数据分析 (`/admin/analytics`)

深度数据分析：
- Google Analytics集成
- 用户行为分析
- 流量来源分析
- 转化率统计

### 6. 管理员管理 (`/admin/users`)

管理后台用户：
- 创建新管理员
- 编辑管理员信息
- 权限角色管理
- 禁用/启用账号

### 7. 系统设置 (`/admin/settings`)

全局系统配置：
- 网站基本信息
- SEO设置
- 邮件配置
- API密钥管理
- 功能开关

---

## 📝 文章管理

### 创建新文章

1. 点击"新建文章"按钮
2. 填写基本信息：
   - **标题**：文章标题（必填）
   - **URL别名 (Slug)**：用于URL的友好标识（自动生成）
   - **摘要**：简短描述，最多500字符
   - **内容**：文章正文（支持HTML）

3. 设置分类和标签：
   - 选择文章分类（教程/行业资讯/案例研究/新闻）
   - 添加相关标签

4. 配置SEO：
   - SEO标题（搜索引擎显示）
   - SEO描述（搜索结果摘要）
   - 关键词

5. 设置封面图片（可选）

6. 选择发布状态：
   - **草稿**：保存但不发布
   - **已发布**：立即发布到网站
   - **已归档**：已发布但隐藏

### 编辑文章

1. 在文章列表中点击"编辑"按钮
2. 修改内容
3. 点击"保存"或"发布"

### 删除文章

1. 在文章列表中点击"删除"按钮
2. 确认删除操作
3. 文章将永久删除（不可恢复）

### 文章筛选和搜索

- **搜索**：输入关键词搜索标题、摘要或内容
- **状态筛选**：按发布状态筛选
- **分类筛选**：按文章分类筛选
- **分页浏览**：每页显示10条记录

---

## ❓ 常见问题

### Q1: 忘记管理员密码怎么办？

**方法一**：使用 `create-admin` 脚本重置密码
```bash
ADMIN_PASSWORD=new_password npm run create-admin
```

**方法二**：直接修改数据库
```sql
-- 生成新密码哈希后执行
UPDATE admins 
SET password = '$2a$10$...' 
WHERE username = 'admin';
```

### Q2: 如何创建多个管理员？

1. 登录后台
2. 访问"管理员"页面 (`/admin/users`)
3. 点击"新建管理员"
4. 填写信息并保存

### Q3: 文章内容支持富文本吗？

当前版本支持HTML格式。富文本编辑器（WYSIWYG）将在后续版本中集成。

临时方案：
- 使用在线HTML编辑器编写内容
- 复制HTML代码到内容框

### Q4: 如何查看网站访问统计？

1. 确保已配置Google Analytics
2. 访问"数据分析"页面
3. 查看实时和历史数据

### Q5: 如何导出订阅用户列表？

1. 访问"订阅用户"页面
2. 点击"导出"按钮
3. 选择格式（CSV/Excel）
4. 下载文件

### Q6: 登录后提示未授权

可能原因：
- JWT Token已过期（7天有效期）
- Cookie被清除
- 账号被禁用

解决方法：
- 重新登录
- 检查账号状态
- 清除浏览器缓存

### Q7: 如何修改管理员信息？

1. 点击左下角用户头像
2. 选择"个人设置"
3. 修改信息并保存

---

## 🔒 安全建议

1. **强密码**：使用至少12位字符，包含大小写字母、数字和符号
2. **定期更换**：建议每3个月更换一次密码
3. **限制访问**：不要共享管理员账号
4. **HTTPS**：生产环境必须使用HTTPS
5. **备份数据**：定期备份数据库
6. **监控日志**：定期检查审计日志

---

## 📞 技术支持

如有问题，请联系：
- **邮箱**: admin@lasercalcpro.com
- **文档**: 查看项目根目录下的其他MD文档
- **代码**: 查看 `/app/admin` 和 `/lib/auth` 目录

---

## 🎉 下一步

现在你已经了解了管理后台的基本使用，可以：

1. ✅ 创建第一篇文章
2. ✅ 配置系统设置
3. ✅ 查看数据统计
4. ✅ 管理订阅用户
5. ✅ 探索更多功能

祝使用愉快！🚀


















